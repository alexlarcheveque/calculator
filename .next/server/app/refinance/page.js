(()=>{var e={};e.id=82,e.ids=[82],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4134:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var n=s(482),r=s(9108),a=s(2563),o=s.n(a),i=s(8300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["refinance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7159)),"/Users/alexlarcheveque/Coding/calculator/src/app/refinance/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3059)),"/Users/alexlarcheveque/Coding/calculator/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/alexlarcheveque/Coding/calculator/src/app/refinance/page.tsx"],m="/refinance/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/refinance/page",pathname:"/refinance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7949:(e,t,s)=>{Promise.resolve().then(s.bind(s,9041))},9041:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n,r=s(5344),a=s(3729);function o(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}!function(e){e.REMAINING_BALANCE="REMAINING_BALANCE",e.ORIGINAL_LOAN="ORIGINAL_LOAN"}(n||(n={}));let i=e=>isNaN(e)||0===e?"":e.toLocaleString("en-US"),l=e=>{let t=parseFloat(e.replace(/[^\d.-]/g,""));return isNaN(t)?0:t};function d({values:e,onChange:t}){let[s,d]=(0,a.useState)({remainingBalance:i(e.remainingBalance),originalLoanAmount:i(e.originalLoanAmount),costsAndFees:i(e.costsAndFees),cashOutAmount:0===e.cashOutAmount?"":i(Math.abs(e.cashOutAmount))}),c=e=>{let{name:s,value:n}=e.target;"currentLoanInputMode"===s?t(s,n):t(s,parseFloat(n)||0)},m=e=>{let{name:s,value:n}=e.target,r=l(n);"cashOutAmount"===s?(t(s,n.startsWith("-")||n.startsWith("($")?-Math.abs(r):r),d(e=>({...e,[s]:""===n?"":i(Math.abs(r))}))):(t(s,r),d(e=>({...e,[s]:i(r)})))},x=t=>{let{name:s}=t.target,n=e[s];"cashOutAmount"===s?d(e=>({...e,[s]:0===n?"":i(Math.abs(n))})):d(e=>({...e,[s]:i(n)}))};return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Refinance Details"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"border-b pb-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-700",children:"Current Loan"}),(0,r.jsxs)("div",{className:"form-group mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose input method"}),(0,r.jsxs)("select",{name:"currentLoanInputMode",value:e.currentLoanInputMode,onChange:c,className:"block w-full py-2 px-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:n.REMAINING_BALANCE,children:"I know my remaining balance"}),r.jsx("option",{value:n.ORIGINAL_LOAN,children:"I know the original loan amount"})]})]}),e.currentLoanInputMode===n.REMAINING_BALANCE&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"remainingBalance",className:"block text-sm font-medium text-gray-700 mb-2",children:"Remaining Balance"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:"$"})}),r.jsx("input",{type:"text",id:"remainingBalance",name:"remainingBalance",className:"block w-full pl-6 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:s.remainingBalance,onChange:m,onBlur:x,placeholder:"250,000"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"currentMonthlyPayment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Payment"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:"$"})}),r.jsx("input",{type:"number",id:"currentMonthlyPayment",name:"currentMonthlyPayment",className:"block w-full pl-6 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:e.currentMonthlyPayment,onChange:c,min:"0",step:"10",placeholder:"1,800"})]})]})]}),e.currentLoanInputMode===n.ORIGINAL_LOAN&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"originalLoanAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Loan Amount"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:"$"})}),r.jsx("input",{type:"text",id:"originalLoanAmount",name:"originalLoanAmount",className:"block w-full pl-6 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:s.originalLoanAmount,onChange:m,onBlur:x,placeholder:"300,000"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"originalLoanTerm",className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Term (years)"}),(0,r.jsxs)("select",{id:"originalLoanTerm",name:"originalLoanTerm",value:e.originalLoanTerm,onChange:c,className:"block w-full py-2 px-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"10",children:"10 years"}),r.jsx("option",{value:"15",children:"15 years"}),r.jsx("option",{value:"20",children:"20 years"}),r.jsx("option",{value:"25",children:"25 years"}),r.jsx("option",{value:"30",children:"30 years"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Remaining"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{children:(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("input",{type:"number",id:"timeRemainingYears",name:"timeRemainingYears",className:"block w-full pl-3 pr-16 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:e.timeRemainingYears,onChange:c,min:"0",max:e.originalLoanTerm}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500 text-sm",children:"years"})})]})}),r.jsx("div",{children:(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("input",{type:"number",id:"timeRemainingMonths",name:"timeRemainingMonths",className:"block w-full pl-3 pr-16 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:e.timeRemainingMonths,onChange:c,min:"0",max:"11"}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500 text-sm",children:"months"})})]})})]})]})]}),(0,r.jsxs)("div",{className:"form-group mt-4",children:[r.jsx("label",{htmlFor:"currentInterestRate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("input",{type:"number",id:"currentInterestRate",name:"currentInterestRate",className:"block w-full pl-3 pr-6 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:e.currentInterestRate,onChange:c,min:"0",max:"20",step:"0.125",placeholder:"7.000"}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:"%"})})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-700",children:"New Loan"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"newLoanTerm",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Loan Term (years)"}),(0,r.jsxs)("select",{id:"newLoanTerm",name:"newLoanTerm",value:e.newLoanTerm,onChange:c,className:"block w-full py-2 px-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"10",children:"10 years"}),r.jsx("option",{value:"15",children:"15 years"}),r.jsx("option",{value:"20",children:"20 years"}),r.jsx("option",{value:"25",children:"25 years"}),r.jsx("option",{value:"30",children:"30 years"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"newInterestRate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("input",{type:"number",id:"newInterestRate",name:"newInterestRate",className:"block w-full pl-3 pr-6 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:e.newInterestRate,onChange:c,min:"0",max:"20",step:"0.125",placeholder:"6.000"}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:"%"})})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{htmlFor:"points",className:"block text-sm font-medium text-gray-700 mb-2",children:["Points",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(mortgage points paid upfront to reduce interest rate)"})]}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("input",{type:"number",id:"points",name:"points",className:"block w-full pl-3 pr-12 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:e.points,onChange:c,min:"0",max:"10",step:"0.25",placeholder:"2.0"}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:"points"})})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{htmlFor:"costsAndFees",className:"block text-sm font-medium text-gray-700 mb-2",children:["Costs and Fees",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(application, appraisal, closing costs, etc.)"})]}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:"$"})}),r.jsx("input",{type:"text",id:"costsAndFees",name:"costsAndFees",className:"block w-full pl-6 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:s.costsAndFees,onChange:m,onBlur:x,placeholder:"1,500"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{htmlFor:"cashOutAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:["Cash Out Amount",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(cash to withdraw from equity; use negative for cash-in)"})]}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:e.cashOutAmount<0?"($":"$"})}),r.jsx("input",{type:"text",id:"cashOutAmount",name:"cashOutAmount",className:"block w-full pl-6 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:s.cashOutAmount,onChange:m,onBlur:x,placeholder:"0"}),e.cashOutAmount<0&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500",children:")"})})]}),(0,r.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Current value: ",e.cashOutAmount<0?"-":"",o(Math.abs(e.cashOutAmount)),e.cashOutAmount<0?" (cash-in)":e.cashOutAmount>0?" (cash-out)":""]})]})]})]})]})]})}function c({results:e}){let t=e.monthlyPaymentDifference<0,s=e.breakEvenMonths>0&&e.breakEvenMonths<360;return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800 border-b pb-2",children:"Refinance Summary"}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-md font-medium mb-3 text-gray-700 border-b pb-1",children:"Monthly Payment Comparison"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Current Payment"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:o(e.currentMonthlyPayment)}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Monthly principal & interest"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[r.jsx("div",{className:"text-sm text-blue-600",children:"New Payment"}),r.jsx("div",{className:"text-2xl font-bold text-blue-800",children:o(e.newMonthlyPayment)}),r.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"Monthly principal & interest"})]}),(0,r.jsxs)("div",{className:`p-4 rounded-lg border ${t?"bg-green-50 border-green-100":"bg-red-50 border-red-100"}`,children:[r.jsx("div",{className:`text-sm ${t?"text-green-600":"text-red-600"}`,children:"Monthly Difference"}),r.jsx("div",{className:`text-2xl font-bold ${t?"text-green-800":"text-red-800"}`,children:o(Math.abs(e.monthlyPaymentDifference))}),r.jsx("div",{className:`text-xs mt-1 ${t?"text-green-500":"text-red-500"}`,children:t?"Monthly savings":"Monthly increase"})]})]})]}),s&&r.jsx("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-100",children:[r.jsx("div",{className:"text-sm text-yellow-600 font-medium",children:"Break-Even Point"}),(0,r.jsxs)("div",{className:"text-3xl font-bold text-yellow-800 mb-2",children:[Math.floor(e.breakEvenMonths/12)," years"," ",e.breakEvenMonths%12," months"]}),r.jsx("div",{className:"text-sm text-yellow-600",children:"Time to recover closing costs through monthly savings"})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-md font-medium mb-3 text-gray-700 border-b pb-1",children:"Financial Overview"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"New Loan Amount"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:o(e.newLoanAmount)}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Remaining balance + cash out + costs"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Total Closing Costs"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:o(e.totalClosingCosts)}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Points: ",o(e.pointsCost)," + Fees:"," ",o(e.totalClosingCosts-e.pointsCost)]})]}),0!==e.netCashOut&&(0,r.jsxs)("div",{className:`p-4 rounded-lg border col-span-1 sm:col-span-2 ${e.netCashOut>0?"bg-blue-50 border-blue-100":"bg-orange-50 border-orange-100"}`,children:[r.jsx("div",{className:`text-sm ${e.netCashOut>0?"text-blue-600":"text-orange-600"}`,children:e.netCashOut>0?"Net Cash Received":"Net Cash Contributed"}),r.jsx("div",{className:`text-2xl font-bold ${e.netCashOut>0?"text-blue-800":"text-orange-800"}`,children:o(Math.abs(e.netCashOut))}),r.jsx("div",{className:`text-xs mt-1 ${e.netCashOut>0?"text-blue-500":"text-orange-500"}`,children:e.netCashOut>0?"Cash you receive after closing costs":"Additional cash you pay at closing"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-md font-medium mb-3 text-gray-700 border-b pb-1",children:"Interest Comparison"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Current Loan Remaining Interest"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:o(e.currentTotalRemainingInterest)}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Interest left to pay on current loan"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"New Loan Total Interest"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:o(e.newTotalInterest)}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total interest on new loan"})]}),(0,r.jsxs)("div",{className:`p-4 rounded-lg border col-span-1 sm:col-span-2 ${e.totalInterestSavings>0?"bg-green-50 border-green-100":"bg-red-50 border-red-100"}`,children:[r.jsx("div",{className:`text-sm ${e.totalInterestSavings>0?"text-green-600":"text-red-600"}`,children:e.totalInterestSavings>0?"Interest Savings":"Additional Interest Cost"}),r.jsx("div",{className:`text-2xl font-bold ${e.totalInterestSavings>0?"text-green-800":"text-red-800"}`,children:o(Math.abs(e.totalInterestSavings))}),r.jsx("div",{className:`text-xs mt-1 ${e.totalInterestSavings>0?"text-green-500":"text-red-500"}`,children:e.totalInterestSavings>0?"Total interest savings over loan life":"Additional interest you will pay"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-3 text-gray-700 border-b pb-1",children:"Payoff Time Comparison"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Current Loan Payoff"}),(0,r.jsxs)("div",{className:"text-xl font-bold text-gray-800",children:[e.timeToPayOffCurrent.years,"y"," ",e.timeToPayOffCurrent.months,"m"]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Time remaining on current loan"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"New Loan Payoff"}),(0,r.jsxs)("div",{className:"text-xl font-bold text-gray-800",children:[e.timeToPayOffNew.years,"y ",e.timeToPayOffNew.months,"m"]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Full term of new loan"})]}),(0,r.jsxs)("div",{className:`p-4 rounded-lg border ${12*e.timeToPayOffNew.years+e.timeToPayOffNew.months<12*e.timeToPayOffCurrent.years+e.timeToPayOffCurrent.months?"bg-green-50 border-green-100":"bg-red-50 border-red-100"}`,children:[r.jsx("div",{className:`text-sm ${12*e.timeToPayOffNew.years+e.timeToPayOffNew.months<12*e.timeToPayOffCurrent.years+e.timeToPayOffCurrent.months?"text-green-600":"text-red-600"}`,children:"Time Difference"}),(0,r.jsxs)("div",{className:`text-xl font-bold ${12*e.timeToPayOffNew.years+e.timeToPayOffNew.months<12*e.timeToPayOffCurrent.years+e.timeToPayOffCurrent.months?"text-green-800":"text-red-800"}`,children:[e.timeSavings.years,"y ",e.timeSavings.months,"m"]}),r.jsx("div",{className:`text-xs mt-1 ${12*e.timeToPayOffNew.years+e.timeToPayOffNew.months<12*e.timeToPayOffCurrent.years+e.timeToPayOffCurrent.months?"text-green-500":"text-red-500"}`,children:12*e.timeToPayOffNew.years+e.timeToPayOffNew.months<12*e.timeToPayOffCurrent.years+e.timeToPayOffCurrent.months?"Time saved":"Additional time"})]})]})]})]})}function m({results:e,currentInterestRate:t}){let s=(e,t=3)=>`${e.toFixed(t)}%`,n=(e,t=!1,n=!1)=>{if(0===e)return"$0.00";if(n){let t=o(Math.abs(e));return e<0?`-${t}`:`+${t}`}if(t){let t=s(Math.abs(e));return e<0?`-${t}`:`+${t}`}return e<0?`${e}`:`+${e}`},a=e.currentRemainingPayments-(12*e.timeToPayOffNew.years+e.timeToPayOffNew.months),i=t-e.newLoanAPR;return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800 border-b pb-2",children:"Loan Comparison Details"}),(0,r.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[(0,r.jsxs)("div",{className:"text-sm text-blue-600 mb-2",children:["The APR for the new loan is ",s(e.newLoanAPR),", which is ",s(Math.abs(i))," ",i>0?"lower":"higher"," than the"," ",s(t,1)," interest rate of the current loan. Refinancing would be financially"," ",e.totalCostSavings>0?"less expensive":"more expensive","."]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-blue-600",children:"New monthly payment:"}),r.jsx("div",{className:"text-lg font-bold text-blue-800",children:o(e.newMonthlyPayment)})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-blue-600",children:"Monthly savings:"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-blue-800",children:[o(Math.abs(e.monthlyPaymentDifference)),e.monthlyPaymentDifference<0?"/month savings":"/month increase"]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-blue-600",children:"Time difference:"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-blue-800",children:[Math.abs(a)," months"," ",a>0?"faster":"longer"]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-blue-600",children:"Lifetime savings:"}),r.jsx("div",{className:"text-lg font-bold text-blue-800",children:o(Math.abs(e.totalCostSavings))})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-blue-600",children:"Upfront cost:"}),r.jsx("div",{className:"text-lg font-bold text-blue-800",children:o(e.totalClosingCosts)})]}),e.breakEvenMonths>0&&e.breakEvenMonths<360&&(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-blue-600",children:"Break even point:"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-blue-800",children:[e.breakEvenMonths," months"]})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-medium text-gray-900",children:"Metric"}),r.jsx("th",{className:"border border-gray-300 px-4 py-3 text-center font-medium text-gray-900",children:"Current Loan (Remaining)"}),r.jsx("th",{className:"border border-gray-300 px-4 py-3 text-center font-medium text-gray-900",children:"New Loan"}),r.jsx("th",{className:"border border-gray-300 px-4 py-3 text-center font-medium text-gray-900",children:"Difference"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium text-gray-700",children:"Principal/loan amount"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.currentLoanRemainingBalance)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.newLoanAmount)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:n(e.newLoanAmount-e.currentLoanRemainingBalance,!1,!0)})]}),(0,r.jsxs)("tr",{className:"bg-gray-25",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium text-gray-700",children:"Monthly payment"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.currentMonthlyPayment)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.newMonthlyPayment)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:r.jsx("span",{className:e.monthlyPaymentDifference<0?"text-green-600 font-medium":"text-red-600 font-medium",children:n(e.monthlyPaymentDifference,!1,!0)})})]}),(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium text-gray-700",children:"Length"}),(0,r.jsxs)("td",{className:"border border-gray-300 px-4 py-3 text-center",children:[e.currentRemainingPayments," months"]}),(0,r.jsxs)("td",{className:"border border-gray-300 px-4 py-3 text-center",children:[12*e.timeToPayOffNew.years+e.timeToPayOffNew.months," ","months"]}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:(0,r.jsxs)("span",{className:a>0?"text-green-600 font-medium":"text-red-600 font-medium",children:[n(-a)," months"]})})]}),(0,r.jsxs)("tr",{className:"bg-gray-25",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium text-gray-700",children:"Interest rate/APR"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:s(t,1)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:s(e.newLoanAPR)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:r.jsx("span",{className:i>0?"text-green-600 font-medium":"text-red-600 font-medium",children:n(-i,!0)})})]}),(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium text-gray-700",children:"Total monthly payments"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.currentTotalRemainingPayments)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.newTotalPayments)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:r.jsx("span",{className:e.totalCostSavings>0?"text-green-600 font-medium":"text-red-600 font-medium",children:n(-e.totalCostSavings,!1,!0)})})]}),(0,r.jsxs)("tr",{className:"bg-gray-25",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium text-gray-700",children:"Total interest"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.currentTotalRemainingInterest)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.newTotalInterest)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:r.jsx("span",{className:e.totalInterestSavings>0?"text-green-600 font-medium":"text-red-600 font-medium",children:n(-e.totalInterestSavings,!1,!0)})})]}),(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium text-gray-700",children:"Cost + points (upfront)"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:"$0"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:o(e.totalClosingCosts)}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:"—"})]}),(0,r.jsxs)("tr",{className:"bg-gray-25",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium text-gray-700",children:"Time to recover cost/point"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:"NA"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:e.breakEvenMonths>0&&e.breakEvenMonths<360?`${e.breakEvenMonths} months`:"Not applicable"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:"—"})]})]})]})}),(0,r.jsxs)("div",{className:"mt-4 text-xs text-gray-500",children:[r.jsx("p",{children:"* Calculations include points and fees in APR computation"}),r.jsx("p",{children:"* Green values indicate savings/benefits, red values indicate costs/disadvantages"})]})]})}let x=[{question:"When should I consider refinancing my loan?",answer:r.jsx("p",{children:"Consider refinancing when interest rates have dropped significantly below your current rate, when your credit score has improved, when you want to change your loan term, or when you need cash from your home's equity. Generally, if you can reduce your interest rate by 0.5-1% or more, refinancing may be beneficial."}),id:"faq-1"},{question:"What is the break-even point in refinancing?",answer:r.jsx("p",{children:"The break-even point is the time it takes for your monthly savings to equal the total closing costs of refinancing. For example, if refinancing costs $3,000 and saves you $150 per month, your break-even point is 20 months. If you plan to stay in your home longer than the break-even period, refinancing typically makes financial sense."}),id:"faq-2"},{question:"What is cash-out refinancing?",answer:r.jsx("p",{children:"Cash-out refinancing allows you to refinance for more than you currently owe and receive the difference in cash. This lets you tap into your home's equity for major expenses like home improvements, debt consolidation, or investments. Keep in mind that this increases your loan balance and monthly payments."}),id:"faq-3"},{question:"What are mortgage points and should I pay them?",answer:r.jsx("p",{children:"Mortgage points (also called discount points) are fees paid upfront to reduce your interest rate. Each point typically costs 1% of your loan amount and reduces your rate by about 0.25%. Points can be beneficial if you plan to stay in your home long enough to recoup the upfront cost through lower monthly payments."}),id:"faq-4"},{question:"How much does refinancing typically cost?",answer:r.jsx("p",{children:'Refinancing costs typically range from 2-5% of your loan amount. Common fees include application fees, appraisal fees, origination fees, title insurance, and recording fees. Some lenders offer "no-cost" refinancing, but they typically roll the costs into your loan amount or charge a higher interest rate.'}),id:"faq-5"},{question:"Can I refinance if I have an FHA or VA loan?",answer:r.jsx("p",{children:"Yes, you can refinance government-backed loans. FHA loans offer streamline refinancing options that require minimal documentation. VA loans have Interest Rate Reduction Refinance Loans (IRRRL) for easier refinancing. You can also refinance from an FHA or VA loan to a conventional loan if you have sufficient equity."}),id:"faq-6"},{question:"How does my credit score affect refinancing?",answer:r.jsx("p",{children:"Your credit score significantly impacts the interest rates you'll qualify for when refinancing. Generally, scores of 740+ get the best rates, while scores below 620 may face challenges. If your credit has improved since your original loan, you may qualify for better terms. Check your credit report before applying and consider improving your score if needed."}),id:"faq-7"},{question:"Should I refinance to a shorter or longer term?",answer:r.jsx("p",{children:"Refinancing to a shorter term (like 15 years) typically offers lower interest rates and saves money long-term, but increases monthly payments. Extending to a longer term reduces monthly payments but increases total interest paid. Choose based on your financial goals: shorter terms for savings, longer terms for cash flow relief."}),id:"faq-8"}];function h(){let[e,t]=(0,a.useState)([]),s=e=>{t(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Frequently Asked Questions"}),r.jsx("div",{className:"space-y-4",children:x.map(t=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[r.jsx("button",{className:"w-full text-left p-4 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset",onClick:()=>s(t.id),"aria-expanded":e.includes(t.id),"aria-controls":`content-${t.id}`,children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-800 pr-4",children:t.question}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform duration-200 ${e.includes(t.id)?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),e.includes(t.id)&&r.jsx("div",{id:`content-${t.id}`,className:"px-4 pb-4",children:r.jsx("div",{className:"text-gray-700 text-sm leading-relaxed",children:t.answer})})]},t.id))})]})}function u(){let[e,t]=(0,a.useState)({currentLoanInputMode:n.REMAINING_BALANCE,remainingBalance:25e4,currentMonthlyPayment:1800,originalLoanAmount:3e5,originalLoanTerm:30,timeRemainingYears:23,timeRemainingMonths:8,currentInterestRate:7,newLoanTerm:20,newInterestRate:6,points:2.5,costsAndFees:4e3,cashOutAmount:0}),[s,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let t,s,r;let{currentLoanInputMode:a,remainingBalance:i,currentMonthlyPayment:l,originalLoanAmount:d,originalLoanTerm:c,timeRemainingYears:m,timeRemainingMonths:x,currentInterestRate:h,newLoanTerm:u,newInterestRate:g,points:y,costsAndFees:p,cashOutAmount:b}=e;if(a===n.REMAINING_BALANCE){t=i,r=l;let e=h/100/12;s=e>0?Math.ceil(Math.log(1+t*e/r)/Math.log(1+e)):Math.ceil(t/r)}else{let e=function(e,t,s,n,r){let a=s/100/12,o=12*t,i=12*n+r,l=o-i,d=0;d=a>0?a*Math.pow(1+a,o)*e/(Math.pow(1+a,o)-1):e/o;let c=e;for(let e=0;e<l;e++){let e=d-c*a;c-=e}return{remainingBalance:c=Math.max(0,c),monthlyPayment:d,remainingPayments:i}}(d,c,h,m,x);t=e.remainingBalance,s=e.remainingPayments,r=e.monthlyPayment}t<=0||h<=0||g<=0||u<=0||o(function(e){let{currentLoanRemainingBalance:t,currentInterestRate:s,currentRemainingPayments:n,currentMonthlyPayment:r,newLoanTerm:a,newInterestRate:o,points:i,costsAndFees:l,cashOutAmount:d}=e,c=r*n,m=c-t,x=i/100*t,h=x+l,u=t+d+h,g=o/100/12,y=12*a,p=0;p=g>0?g*Math.pow(1+g,y)*u/(Math.pow(1+g,y)-1):u/y;let b=function(e,t,s,n,r){let a=e-(n+r),o=12*s;if(a<=0||t<=0||o<=0)return 0;let i=.05,l=0;for(;l<100;){let e=i/12,s=(1-Math.pow(1+e,-o))/e*t-a;if(1e-6>Math.abs(s))break;i-=s/(t*(-o*Math.pow(1+e,-o-1)/e-(1-Math.pow(1+e,-o))/(e*e))/12),l++}return Math.max(0,100*i)}(u,p,a,x,l),f=p*y,j=f-u,N=p-r,v=0;N<0&&(v=Math.ceil(h/Math.abs(N)));let w=n-y;return{currentLoanRemainingBalance:t,currentMonthlyPayment:r,currentRemainingPayments:n,currentTotalRemainingInterest:m,currentTotalRemainingPayments:c,newLoanAmount:u,newMonthlyPayment:p,newTotalPayments:f,newTotalInterest:j,newLoanAPR:b,pointsCost:x,totalClosingCosts:h,netCashOut:d-h,monthlyPaymentDifference:N,totalInterestSavings:m-j,totalCostSavings:c-f,breakEvenMonths:v,timeToPayOffCurrent:{years:Math.floor(n/12),months:n%12},timeToPayOffNew:{years:Math.floor(y/12),months:y%12},timeSavings:{years:Math.floor(Math.abs(w)/12),months:Math.abs(w)%12}}}({currentLoanRemainingBalance:t,currentInterestRate:h,currentRemainingPayments:s,currentMonthlyPayment:r,newLoanTerm:u,newInterestRate:g,points:y,costsAndFees:p,cashOutAmount:b}))},[e]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mb-16",children:[r.jsx("div",{className:"lg:col-span-4",children:r.jsx(d,{values:e,onChange:(e,s)=>{t(t=>({...t,[e]:s}))}})}),r.jsx("div",{className:"lg:col-span-8 space-y-8",children:s&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(c,{results:s}),r.jsx(m,{results:s,currentInterestRate:e.currentInterestRate})]})})]}),r.jsx(h,{}),r.jsx("div",{className:"mt-16",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"What is Loan Refinancing?"}),(0,r.jsxs)("div",{className:"prose prose-gray max-w-none",children:[r.jsx("p",{className:"mb-4",children:"Loan refinancing involves taking out a new loan, usually with more favorable terms, in order to pay off an old one. Terms and conditions of refinancing vary widely. Refinancing is more commonly associated with home mortgages, car loans, or student loans."}),r.jsx("h3",{className:"text-xl font-semibold mt-6 mb-4",children:"Common Reasons to Refinance"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-lg mb-2 text-blue-600",children:"Save Money"}),r.jsx("p",{className:"text-sm text-gray-700",children:"If interest rates have decreased since you got your original loan, refinancing can help you secure a lower rate and save money on interest costs."})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-lg mb-2 text-blue-600",children:"Need Cash"}),r.jsx("p",{className:"text-sm text-gray-700",children:"Cash-out refinancing allows you to borrow against your home's equity and receive cash for home improvements, debt consolidation, or other expenses."})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-lg mb-2 text-blue-600",children:"Lower Payments"}),r.jsx("p",{className:"text-sm text-gray-700",children:"Extending your loan term through refinancing can reduce your monthly payments, providing more breathing room in your budget."})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-lg mb-2 text-blue-600",children:"Shorten the Loan"}),r.jsx("p",{className:"text-sm text-gray-700",children:"Refinancing to a shorter term can help you pay off your loan faster and save significantly on total interest paid."})]})]}),r.jsx("h3",{className:"text-xl font-semibold mt-6 mb-4",children:"Refinance Costs to Consider"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-sm text-gray-700",children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Application Fee:"})," Typically 1% of the loan amount"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Home Appraisal:"})," Usually a few hundred dollars"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Origination Fee/Points:"})," Normally 0-2% of the loan amount"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Title Search:"})," A few hundred dollars for title verification"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Recording Fees:"})," County/city paperwork handling charges"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Inspection Fees:"})," Property condition evaluation costs"]})]}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Important:"})," Consider the break-even point when refinancing. This is how long it will take for your monthly savings to offset the closing costs. If you plan to move before reaching the break-even point, refinancing may not be beneficial."]})})]})]})})]})}},7159:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>l});var n=s(5036);let r=(0,s(6843).createProxy)(String.raw`/Users/alexlarcheveque/Coding/calculator/src/components/refinance/RefinancePage.tsx`),{__esModule:a,$$typeof:o}=r,i=r.default,l={title:"Refinance Calculator | Calcy.net",description:"Free calculator to plan the refinancing of loans by comparing existing and refinanced loans side by side, with options for cash out, mortgage points, and fees."};function d(){return(0,n.jsxs)("div",{className:"container mx-auto p-4",children:[(0,n.jsxs)("header",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Refinance Calculator"}),n.jsx("p",{className:"text-lg text-gray-700",children:"A comprehensive tool for comparing your current loan with refinancing options"})]}),n.jsx(i,{})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[1638,873,6806],()=>s(4134));module.exports=n})();